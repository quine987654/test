# 币安桥前端逻辑文档，

## 用户操作流程

1. 打开浏览器 此时请求资产列表数据，将第一个资产选为默认选项，同时请求支持该资产转移的网络列表，请求到列表之后如果没有钱包则将第一个可用数据填入 from 中，将第二个可用数据填入 to 中，否则将钱包网络填充到 from 中，将第一个可用数据填充到 to 中。填充完成之后请求资产流向是否可行，如果可行则显示地址，否则显示网络不可用提示。
2. 选择资产转移网络
   选择资产执行上述网络列表请求之后的部分

3. 链接钱包
   用户链接钱包之后，如果资产流动列表没有钱包网络，则提示网络不可用，否则 from 选中钱包网络，
4. 选择网络流向
   用户选择网络之后执行上述网络流向部分
5. 输入数量 请求转账
   输入数量之后，如果数量不在合法范围内则提示输入数据不合法，否则，显示下一步，点击下一步，弹出转账确认弹窗
6. 确认转账
   用户确认转账信息无误后点击确认转账，
   ***

## 网页有三个网络请求，

### 请求资产列表数据，

请求 1 是页面加载时触发请求，获取资产列表

```js
// 请求1，请求资产列表数据
    type:get
    path: /getAssets
    // 响应
    {
        // 成功为2000
        code:2000,
        msg:'',
        data:[
            {
                // 图标
                img: "https://www.wisdchain.com/img/logo2.png",
                // 资产名称
                name: "我是标题1",
                // 描述
                msg: "我是描述",
                // 交易最大值
                max: '10,000',
                // 交易最小值
                min: '100',
                // 资产单位
                company: 'bbb',
                // 支持的网络
                networks:[
                    1,2,3,42
                ]
            }
        ]
    }


```

---

### 请求某支持资产转移的网络的数据

请求 2 是当资产列表选中状态发生改变时触发，即当用户选择不同资产时触发请求二，页面初始化时也会触发。

```js
// 请求2，请求支持某资产转移的网络的数据
    type:post
    path: /getBridge
    body:{
        // 资产类型 （暂时填资产名称）
        assets:
    }
    // 响应
    {
        // 成功为2000
        code:2000,
        msg:'',
        data:[
            {
                // 图标
                img: "https://www.wisdchain.com/img/logo2.png",
                // 网络名称
                name: "我是标题1",
                // 网络代号
                network:'1',
                // 描述
                msg: "我是描述",
                // 0为暂停,否则填null
                code: null
            },
        ]
    }


```

---

### 请求判断某资产从当前网络到另一网络是否可以操作

请求 3 在资产桥的任何一方发生改变时都会触发，即切换资产流向或切换网络都会触发，页面二触发时也会触发。

```js
// 请求3 请求判断某资产从当前网络到另一网络是否可以操作
    type:post
    path: /getFlow
    body:{
        // 从这个网络发出，填的是网络代号
        form:'',
        // 这个网络接收，填的是网络代号
        to:'',
        // 资产类型 （暂时填资产名称）
        assets:''

    }
    // 响应
    {
        // 成功为2000
        code:2000,
        msg:'',
        data:[
            // 是否可以转移 可行为true否则为folse
            flow:true,
        ]
    }


```

---


## 钱包链接

点击钱包链接，弹出选框，选择之后获取当前钱包地址，网络代号。并将当前钱包地址自动填充进入输入框，如果当前网络列表有钱包网络，则选中当前网络列表中的钱包网络。此时由于网络选中状态更新，会触发请求三。
重新选择钱包地址和钱包网络均通过监听浏览器数据来捕获新的地址和网络，然后更新至网页。

---

## 输入框

输入之后判断用户输入的数字是否大于当前资产最大可交易数，是否小于当前资产最小可交易数，满足其中一项则提示，否则显示下一步

---

## 资产网络选择
from和to共用同一个列表，from中选择的在to中置灰，反之亦然，


---



## 跳转类

- 点击介绍影片跳转到介绍影片视频页面
- 点击查看资产证明跳转到查看资产证明页面
- 点击用户指南跳转到用户指南页面
- 点击链接钱包弹出钱包选择框，然后选择一个钱包，再次确认。

---

